<?php

namespace Flow\JSONPath;
$servername = "localhost";
$username = "root";
$password = "LogLn1042949719!";
$database = "fruitVendor";

use Mysqli;


foreach (glob("includes/Flow/JSONPath/*.php") as $filename)
{
    require_once $filename;
}
foreach (glob("includes/Flow/JSONPath/Filters/*.php") as $filename)
{
    require_once $filename;
}



try{
	$conn = new mysqli($servername, $username, $password, $database);
		if ($conn->connect_error) {
			error_log("Connection Failed: " . get_dump($conn), 0);
			return;
		} 
		
		//if($obj->type == "user_data"){
			//$data = '{"user":{"company_name":"","password":"","type":"","primary_contact":{"email":"","first_name":"","last_name":"","primary_phone":{"type":"","number":""}}},"address":[{"type":"","line_1":"","line_2":"","country":"","suburb":"","state":"","postcode":""}],"contact":[{"email":"","first_name":"","last_name":"","primary_phone":{"type":"","number":""}}],"phone":[{"type":"","number":""}],"order":[{"billing_address":{"type":"","line_1":"","line_2":"","country":"","suburb":"","state":"","postcode":""},"delivery_address":{"type":"","line_1":"","line_2":"","country":"","suburb":"","state":"","postcode":""},"order_item":[{"quantity":"","quantity_type":"","product":{"name":""},"fulfillment_item":{"date":"","product":{"name":""},"quantity":"","quantity_type":"","supplier":{"name":"","location":"","phone":"","email":""},"user":{"company_name":"","password":"","type":"","primary_contact":{"email":"","first_name":"","last_name":"","primary_phone":{"type":"","number":""}}}},"incoming_invoice_item":{"quantity":"","quantity_type":"","product":{"name":""},"total":""},"comment":"","fulfilled":0}],"delivery_date":"","comment":"","payment_method":"","delivered":0}],"outgoing_invoice":[{"order":{"billing_address":{"type":"","line_1":"","line_2":"","country":"","suburb":"","state":"","postcode":""},"delivery_address":{"type":"","line_1":"","line_2":"","country":"","suburb":"","state":"","postcode":""},"order_item":[{"quantity":"","quantity_type":"","product":{"name":""},"fulfillment_item":{"date":"","product":{"name":""},"quantity":"","quantity_type":"","supplier":{"name":"","location":"","phone":"","email":""},"user":{"company_name":"","password":"","type":"","primary_contact":{"email":"","first_name":"","last_name":"","primary_phone":{"type":"","number":""}}}},"incoming_invoice_item":{"quantity":"","quantity_type":"","product":{"name":""},"total":""},"comment":"","fulfilled":0}],"delivery_date":"","comment":"","payment_method":"","delivered":0},"user":{"company_name":"","password":"","type":"","primary_contact":{"email":"","first_name":"","last_name":"","primary_phone":{"type":"","number":""}}},"user_company_name":"","user_primary_contact_first_name":"","user_primary_contact_last_name":"","date":"","total":"","week_1_total":"","week_2_total":"","week_3_total":"","overdue_total":"","outgoing_invoice_item":[{"user":{"company_name":"","password":"","type":"","primary_contact":{"email":"","first_name":"","last_name":"","primary_phone":{"type":"","number":""}}},"product":{"name":""},"product_name_type":"","quantity":"","quantity_type":"","line_item_total":"","internal_line_item_total":""}]}]}';
		//}
		
		
		/*$result = $conn->query("select * from accessor where user_id = 1 and type = 'user_data' order by updated_date desc limit 1  ");
		if($result){
			
			while ($row = $result->fetch_object()){
				
				$data[] = (array)$row;
			}

			$result->close();
			$conn->next_result();
			
		}*/
		
		//echo json_encode($data);
		$conn->close();
}catch(Exception $e) {
    error_log("Error : " . get_dump($e), 0);
	return;
}


$form = '{"$id":"http://example.com/example.json","type":"object","definitions":{},"$schema":"http://json-schema.org/draft-07/schema#","properties":{"user":{"$id":"/properties/user","type":"object","properties":{"company_name":{"$id":"/properties/user/properties/company_name","type":"string","title":"The Company_name Schema ","default":"","examples":[""]},"password":{"$id":"/properties/user/properties/password","type":"string","title":"The Password Schema ","default":"","examples":[""]},"type":{"$id":"/properties/user/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"primary_contact":{"$id":"/properties/user/properties/primary_contact","type":"object","properties":{"email":{"$id":"/properties/user/properties/primary_contact/properties/email","type":"string","title":"The Email Schema ","default":"","examples":[""]},"first_name":{"$id":"/properties/user/properties/primary_contact/properties/first_name","type":"string","title":"The First_name Schema ","default":"","examples":[""]},"last_name":{"$id":"/properties/user/properties/primary_contact/properties/last_name","type":"string","title":"The Last_name Schema ","default":"","examples":[""]},"primary_phone":{"$id":"/properties/user/properties/primary_contact/properties/primary_phone","type":"object","properties":{"type":{"$id":"/properties/user/properties/primary_contact/properties/primary_phone/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"number":{"$id":"/properties/user/properties/primary_contact/properties/primary_phone/properties/number","type":"string","title":"The Number Schema ","default":"","examples":[""]}}}}}}},"address":{"$id":"/properties/address","type":"array","items":{"$id":"/properties/address/items","type":"object","properties":{"type":{"$id":"/properties/address/items/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"line_1":{"$id":"/properties/address/items/properties/line_1","type":"string","title":"The Line_1 Schema ","default":"","examples":[""]},"line_2":{"$id":"/properties/address/items/properties/line_2","type":"string","title":"The Line_2 Schema ","default":"","examples":[""]},"country":{"$id":"/properties/address/items/properties/country","type":"string","title":"The Country Schema ","default":"","examples":[""]},"suburb":{"$id":"/properties/address/items/properties/suburb","type":"string","title":"The Suburb Schema ","default":"","examples":[""]},"state":{"$id":"/properties/address/items/properties/state","type":"string","title":"The State Schema ","default":"","examples":[""]},"postcode":{"$id":"/properties/address/items/properties/postcode","type":"string","title":"The Postcode Schema ","default":"","examples":[""]}}}},"contact":{"$id":"/properties/contact","type":"array","items":{"$id":"/properties/contact/items","type":"object","properties":{"email":{"$id":"/properties/contact/items/properties/email","type":"string","title":"The Email Schema ","default":"","examples":[""]},"first_name":{"$id":"/properties/contact/items/properties/first_name","type":"string","title":"The First_name Schema ","default":"","examples":[""]},"last_name":{"$id":"/properties/contact/items/properties/last_name","type":"string","title":"The Last_name Schema ","default":"","examples":[""]},"primary_phone":{"$id":"/properties/contact/items/properties/primary_phone","type":"object","properties":{"type":{"$id":"/properties/contact/items/properties/primary_phone/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"number":{"$id":"/properties/contact/items/properties/primary_phone/properties/number","type":"string","title":"The Number Schema ","default":"","examples":[""]}}}}}},"phone":{"$id":"/properties/phone","type":"array","items":{"$id":"/properties/phone/items","type":"object","properties":{"type":{"$id":"/properties/phone/items/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"number":{"$id":"/properties/phone/items/properties/number","type":"string","title":"The Number Schema ","default":"","examples":[""]}}}},"order":{"$id":"/properties/order","type":"array","items":{"$id":"/properties/order/items","type":"object","properties":{"billing_address":{"$id":"/properties/order/items/properties/billing_address","type":"object","properties":{"type":{"$id":"/properties/order/items/properties/billing_address/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"line_1":{"$id":"/properties/order/items/properties/billing_address/properties/line_1","type":"string","title":"The Line_1 Schema ","default":"","examples":[""]},"line_2":{"$id":"/properties/order/items/properties/billing_address/properties/line_2","type":"string","title":"The Line_2 Schema ","default":"","examples":[""]},"country":{"$id":"/properties/order/items/properties/billing_address/properties/country","type":"string","title":"The Country Schema ","default":"","examples":[""]},"suburb":{"$id":"/properties/order/items/properties/billing_address/properties/suburb","type":"string","title":"The Suburb Schema ","default":"","examples":[""]},"state":{"$id":"/properties/order/items/properties/billing_address/properties/state","type":"string","title":"The State Schema ","default":"","examples":[""]},"postcode":{"$id":"/properties/order/items/properties/billing_address/properties/postcode","type":"string","title":"The Postcode Schema ","default":"","examples":[""]}}},"delivery_address":{"$id":"/properties/order/items/properties/delivery_address","type":"object","properties":{"type":{"$id":"/properties/order/items/properties/delivery_address/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"line_1":{"$id":"/properties/order/items/properties/delivery_address/properties/line_1","type":"string","title":"The Line_1 Schema ","default":"","examples":[""]},"line_2":{"$id":"/properties/order/items/properties/delivery_address/properties/line_2","type":"string","title":"The Line_2 Schema ","default":"","examples":[""]},"country":{"$id":"/properties/order/items/properties/delivery_address/properties/country","type":"string","title":"The Country Schema ","default":"","examples":[""]},"suburb":{"$id":"/properties/order/items/properties/delivery_address/properties/suburb","type":"string","title":"The Suburb Schema ","default":"","examples":[""]},"state":{"$id":"/properties/order/items/properties/delivery_address/properties/state","type":"string","title":"The State Schema ","default":"","examples":[""]},"postcode":{"$id":"/properties/order/items/properties/delivery_address/properties/postcode","type":"string","title":"The Postcode Schema ","default":"","examples":[""]}}},"order_item":{"$id":"/properties/order/items/properties/order_item","type":"array","items":{"$id":"/properties/order/items/properties/order_item/items","type":"object","properties":{"quantity":{"$id":"/properties/order/items/properties/order_item/items/properties/quantity","type":"string","title":"The Quantity Schema ","default":"","examples":[""]},"quantity_type":{"$id":"/properties/order/items/properties/order_item/items/properties/quantity_type","type":"string","title":"The Quantity_type Schema ","default":"","examples":[""]},"product":{"$id":"/properties/order/items/properties/order_item/items/properties/product","type":"object","properties":{"name":{"$id":"/properties/order/items/properties/order_item/items/properties/product/properties/name","type":"string","title":"The Name Schema ","default":"","examples":[""]}}},"fulfillment_item":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item","type":"object","properties":{"date":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/date","type":"string","title":"The Date Schema ","default":"","examples":[""]},"product":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/product","type":"object","properties":{"name":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/product/properties/name","type":"string","title":"The Name Schema ","default":"","examples":[""]}}},"quantity":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/quantity","type":"string","title":"The Quantity Schema ","default":"","examples":[""]},"quantity_type":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/quantity_type","type":"string","title":"The Quantity_type Schema ","default":"","examples":[""]},"supplier":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/supplier","type":"object","properties":{"name":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/supplier/properties/name","type":"string","title":"The Name Schema ","default":"","examples":[""]},"location":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/supplier/properties/location","type":"string","title":"The Location Schema ","default":"","examples":[""]},"phone":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/supplier/properties/phone","type":"string","title":"The Phone Schema ","default":"","examples":[""]},"email":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/supplier/properties/email","type":"string","title":"The Email Schema ","default":"","examples":[""]}}},"user":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/user","type":"object","properties":{"company_name":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/user/properties/company_name","type":"string","title":"The Company_name Schema ","default":"","examples":[""]},"password":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/user/properties/password","type":"string","title":"The Password Schema ","default":"","examples":[""]},"type":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/user/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"primary_contact":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/user/properties/primary_contact","type":"object","properties":{"email":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/user/properties/primary_contact/properties/email","type":"string","title":"The Email Schema ","default":"","examples":[""]},"first_name":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/user/properties/primary_contact/properties/first_name","type":"string","title":"The First_name Schema ","default":"","examples":[""]},"last_name":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/user/properties/primary_contact/properties/last_name","type":"string","title":"The Last_name Schema ","default":"","examples":[""]},"primary_phone":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/user/properties/primary_contact/properties/primary_phone","type":"object","properties":{"type":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/user/properties/primary_contact/properties/primary_phone/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"number":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfillment_item/properties/user/properties/primary_contact/properties/primary_phone/properties/number","type":"string","title":"The Number Schema ","default":"","examples":[""]}}}}}}}}},"incoming_invoice_item":{"$id":"/properties/order/items/properties/order_item/items/properties/incoming_invoice_item","type":"object","properties":{"quantity":{"$id":"/properties/order/items/properties/order_item/items/properties/incoming_invoice_item/properties/quantity","type":"string","title":"The Quantity Schema ","default":"","examples":[""]},"quantity_type":{"$id":"/properties/order/items/properties/order_item/items/properties/incoming_invoice_item/properties/quantity_type","type":"string","title":"The Quantity_type Schema ","default":"","examples":[""]},"product":{"$id":"/properties/order/items/properties/order_item/items/properties/incoming_invoice_item/properties/product","type":"object","properties":{"name":{"$id":"/properties/order/items/properties/order_item/items/properties/incoming_invoice_item/properties/product/properties/name","type":"string","title":"The Name Schema ","default":"","examples":[""]}}},"total":{"$id":"/properties/order/items/properties/order_item/items/properties/incoming_invoice_item/properties/total","type":"string","title":"The Total Schema ","default":"","examples":[""]}}},"comment":{"$id":"/properties/order/items/properties/order_item/items/properties/comment","type":"string","title":"The Comment Schema ","default":"","examples":[""]},"fulfilled":{"$id":"/properties/order/items/properties/order_item/items/properties/fulfilled","type":"integer","title":"The Fulfilled Schema ","default":0,"examples":[0]}}}},"delivery_date":{"$id":"/properties/order/items/properties/delivery_date","type":"string","title":"The Delivery_date Schema ","default":"","examples":[""]},"comment":{"$id":"/properties/order/items/properties/comment","type":"string","title":"The Comment Schema ","default":"","examples":[""]},"payment_method":{"$id":"/properties/order/items/properties/payment_method","type":"string","title":"The Payment_method Schema ","default":"","examples":[""]},"delivered":{"$id":"/properties/order/items/properties/delivered","type":"integer","title":"The Delivered Schema ","default":0,"examples":[0]}}}},"outgoing_invoice":{"$id":"/properties/outgoing_invoice","type":"array","items":{"$id":"/properties/outgoing_invoice/items","type":"object","properties":{"order":{"$id":"/properties/outgoing_invoice/items/properties/order","type":"object","properties":{"billing_address":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/billing_address","type":"object","properties":{"type":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/billing_address/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"line_1":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/billing_address/properties/line_1","type":"string","title":"The Line_1 Schema ","default":"","examples":[""]},"line_2":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/billing_address/properties/line_2","type":"string","title":"The Line_2 Schema ","default":"","examples":[""]},"country":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/billing_address/properties/country","type":"string","title":"The Country Schema ","default":"","examples":[""]},"suburb":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/billing_address/properties/suburb","type":"string","title":"The Suburb Schema ","default":"","examples":[""]},"state":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/billing_address/properties/state","type":"string","title":"The State Schema ","default":"","examples":[""]},"postcode":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/billing_address/properties/postcode","type":"string","title":"The Postcode Schema ","default":"","examples":[""]}}},"delivery_address":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/delivery_address","type":"object","properties":{"type":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/delivery_address/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"line_1":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/delivery_address/properties/line_1","type":"string","title":"The Line_1 Schema ","default":"","examples":[""]},"line_2":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/delivery_address/properties/line_2","type":"string","title":"The Line_2 Schema ","default":"","examples":[""]},"country":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/delivery_address/properties/country","type":"string","title":"The Country Schema ","default":"","examples":[""]},"suburb":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/delivery_address/properties/suburb","type":"string","title":"The Suburb Schema ","default":"","examples":[""]},"state":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/delivery_address/properties/state","type":"string","title":"The State Schema ","default":"","examples":[""]},"postcode":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/delivery_address/properties/postcode","type":"string","title":"The Postcode Schema ","default":"","examples":[""]}}},"order_item":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item","type":"array","items":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items","type":"object","properties":{"quantity":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/quantity","type":"string","title":"The Quantity Schema ","default":"","examples":[""]},"quantity_type":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/quantity_type","type":"string","title":"The Quantity_type Schema ","default":"","examples":[""]},"product":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/product","type":"object","properties":{"name":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/product/properties/name","type":"string","title":"The Name Schema ","default":"","examples":[""]}}},"fulfillment_item":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item","type":"object","properties":{"date":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/date","type":"string","title":"The Date Schema ","default":"","examples":[""]},"product":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/product","type":"object","properties":{"name":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/product/properties/name","type":"string","title":"The Name Schema ","default":"","examples":[""]}}},"quantity":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/quantity","type":"string","title":"The Quantity Schema ","default":"","examples":[""]},"quantity_type":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/quantity_type","type":"string","title":"The Quantity_type Schema ","default":"","examples":[""]},"supplier":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/supplier","type":"object","properties":{"name":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/supplier/properties/name","type":"string","title":"The Name Schema ","default":"","examples":[""]},"location":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/supplier/properties/location","type":"string","title":"The Location Schema ","default":"","examples":[""]},"phone":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/supplier/properties/phone","type":"string","title":"The Phone Schema ","default":"","examples":[""]},"email":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/supplier/properties/email","type":"string","title":"The Email Schema ","default":"","examples":[""]}}},"user":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/user","type":"object","properties":{"company_name":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/user/properties/company_name","type":"string","title":"The Company_name Schema ","default":"","examples":[""]},"password":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/user/properties/password","type":"string","title":"The Password Schema ","default":"","examples":[""]},"type":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/user/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"primary_contact":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/user/properties/primary_contact","type":"object","properties":{"email":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/user/properties/primary_contact/properties/email","type":"string","title":"The Email Schema ","default":"","examples":[""]},"first_name":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/user/properties/primary_contact/properties/first_name","type":"string","title":"The First_name Schema ","default":"","examples":[""]},"last_name":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/user/properties/primary_contact/properties/last_name","type":"string","title":"The Last_name Schema ","default":"","examples":[""]},"primary_phone":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/user/properties/primary_contact/properties/primary_phone","type":"object","properties":{"type":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/user/properties/primary_contact/properties/primary_phone/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"number":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfillment_item/properties/user/properties/primary_contact/properties/primary_phone/properties/number","type":"string","title":"The Number Schema ","default":"","examples":[""]}}}}}}}}},"incoming_invoice_item":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/incoming_invoice_item","type":"object","properties":{"quantity":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/incoming_invoice_item/properties/quantity","type":"string","title":"The Quantity Schema ","default":"","examples":[""]},"quantity_type":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/incoming_invoice_item/properties/quantity_type","type":"string","title":"The Quantity_type Schema ","default":"","examples":[""]},"product":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/incoming_invoice_item/properties/product","type":"object","properties":{"name":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/incoming_invoice_item/properties/product/properties/name","type":"string","title":"The Name Schema ","default":"","examples":[""]}}},"total":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/incoming_invoice_item/properties/total","type":"string","title":"The Total Schema ","default":"","examples":[""]}}},"comment":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/comment","type":"string","title":"The Comment Schema ","default":"","examples":[""]},"fulfilled":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/order_item/items/properties/fulfilled","type":"integer","title":"The Fulfilled Schema ","default":0,"examples":[0]}}}},"delivery_date":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/delivery_date","type":"string","title":"The Delivery_date Schema ","default":"","examples":[""]},"comment":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/comment","type":"string","title":"The Comment Schema ","default":"","examples":[""]},"payment_method":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/payment_method","type":"string","title":"The Payment_method Schema ","default":"","examples":[""]},"delivered":{"$id":"/properties/outgoing_invoice/items/properties/order/properties/delivered","type":"integer","title":"The Delivered Schema ","default":0,"examples":[0]}}},"user":{"$id":"/properties/outgoing_invoice/items/properties/user","type":"object","properties":{"company_name":{"$id":"/properties/outgoing_invoice/items/properties/user/properties/company_name","type":"string","title":"The Company_name Schema ","default":"","examples":[""]},"password":{"$id":"/properties/outgoing_invoice/items/properties/user/properties/password","type":"string","title":"The Password Schema ","default":"","examples":[""]},"type":{"$id":"/properties/outgoing_invoice/items/properties/user/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"primary_contact":{"$id":"/properties/outgoing_invoice/items/properties/user/properties/primary_contact","type":"object","properties":{"email":{"$id":"/properties/outgoing_invoice/items/properties/user/properties/primary_contact/properties/email","type":"string","title":"The Email Schema ","default":"","examples":[""]},"first_name":{"$id":"/properties/outgoing_invoice/items/properties/user/properties/primary_contact/properties/first_name","type":"string","title":"The First_name Schema ","default":"","examples":[""]},"last_name":{"$id":"/properties/outgoing_invoice/items/properties/user/properties/primary_contact/properties/last_name","type":"string","title":"The Last_name Schema ","default":"","examples":[""]},"primary_phone":{"$id":"/properties/outgoing_invoice/items/properties/user/properties/primary_contact/properties/primary_phone","type":"object","properties":{"type":{"$id":"/properties/outgoing_invoice/items/properties/user/properties/primary_contact/properties/primary_phone/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"number":{"$id":"/properties/outgoing_invoice/items/properties/user/properties/primary_contact/properties/primary_phone/properties/number","type":"string","title":"The Number Schema ","default":"","examples":[""]}}}}}}},"user_company_name":{"$id":"/properties/outgoing_invoice/items/properties/user_company_name","type":"string","title":"The User_company_name Schema ","default":"","examples":[""]},"user_primary_contact_first_name":{"$id":"/properties/outgoing_invoice/items/properties/user_primary_contact_first_name","type":"string","title":"The User_primary_contact_first_name Schema ","default":"","examples":[""]},"user_primary_contact_last_name":{"$id":"/properties/outgoing_invoice/items/properties/user_primary_contact_last_name","type":"string","title":"The User_primary_contact_last_name Schema ","default":"","examples":[""]},"date":{"$id":"/properties/outgoing_invoice/items/properties/date","type":"string","title":"The Date Schema ","default":"","examples":[""]},"total":{"$id":"/properties/outgoing_invoice/items/properties/total","type":"string","title":"The Total Schema ","default":"","examples":[""]},"week_1_total":{"$id":"/properties/outgoing_invoice/items/properties/week_1_total","type":"string","title":"The Week_1_total Schema ","default":"","examples":[""]},"week_2_total":{"$id":"/properties/outgoing_invoice/items/properties/week_2_total","type":"string","title":"The Week_2_total Schema ","default":"","examples":[""]},"week_3_total":{"$id":"/properties/outgoing_invoice/items/properties/week_3_total","type":"string","title":"The Week_3_total Schema ","default":"","examples":[""]},"overdue_total":{"$id":"/properties/outgoing_invoice/items/properties/overdue_total","type":"string","title":"The Overdue_total Schema ","default":"","examples":[""]},"outgoing_invoice_item":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item","type":"array","items":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items","type":"object","properties":{"user":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/user","type":"object","properties":{"company_name":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/user/properties/company_name","type":"string","title":"The Company_name Schema ","default":"","examples":[""]},"password":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/user/properties/password","type":"string","title":"The Password Schema ","default":"","examples":[""]},"type":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/user/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"primary_contact":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/user/properties/primary_contact","type":"object","properties":{"email":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/user/properties/primary_contact/properties/email","type":"string","title":"The Email Schema ","default":"","examples":[""]},"first_name":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/user/properties/primary_contact/properties/first_name","type":"string","title":"The First_name Schema ","default":"","examples":[""]},"last_name":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/user/properties/primary_contact/properties/last_name","type":"string","title":"The Last_name Schema ","default":"","examples":[""]},"primary_phone":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/user/properties/primary_contact/properties/primary_phone","type":"object","properties":{"type":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/user/properties/primary_contact/properties/primary_phone/properties/type","type":"string","title":"The Type Schema ","default":"","examples":[""]},"number":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/user/properties/primary_contact/properties/primary_phone/properties/number","type":"string","title":"The Number Schema ","default":"","examples":[""]}}}}}}},"product":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/product","type":"object","properties":{"name":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/product/properties/name","type":"string","title":"The Name Schema ","default":"","examples":[""]}}},"product_name_type":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/product_name_type","type":"string","title":"The Product_name_type Schema ","default":"","examples":[""]},"quantity":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/quantity","type":"string","title":"The Quantity Schema ","default":"","examples":[""]},"quantity_type":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/quantity_type","type":"string","title":"The Quantity_type Schema ","default":"","examples":[""]},"line_item_total":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/line_item_total","type":"string","title":"The Line_item_total Schema ","default":"","examples":[""]},"internal_line_item_total":{"$id":"/properties/outgoing_invoice/items/properties/outgoing_invoice_item/items/properties/internal_line_item_total","type":"string","title":"The Internal_line_item_total Schema ","default":"","examples":[""]}}}}}}}}}';

//$data = ['people' => [['name' => 'Joe'], ['name' => 'Jane'], ['name' => 'John']]];
//$result = (new JSONPath($data))->find('$.people[?(@.name = "Joe")]');

?> 

<html>
 <head>
  <title>PHP Test</title>
  <script src="includes/JsonEditor/jsoneditor.js"></script>
 </head>
 <body>
 <p id="data"></p>
 
 <div id="form_holder"></div>
 <button id='submit'>Submit</button>
 <script>
      // Initialize the editor with a JSON schema
      var editor = new JSONEditor(document.getElementById('form_holder'),{
        schema: JSON.parse(`<?php 
		
		echo $form;
		
	  ?>`)});
      
      document.getElementById('submit').addEventListener('click',function() {
        //console.log(editor.getValue());
		document.getElementById("data").innerHTML = JSON.stringify(editor.getValue());
      });
    </script>
 
 </body>
</html>